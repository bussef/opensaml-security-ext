<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.16) on Mon Jan 02 13:36:40 CET 2023 -->
<title>Pkcs11Decrypter (OpenSAML 4.x Security Extensions - 3.1.2)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-01-02">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Pkcs11Decrypter (OpenSAML 4.x Security Extensions - 3.1.2)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Pkcs11Decrypter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">se.swedenconnect.opensaml.xmlsec.encryption.support</a></div>
<h2 title="Class Pkcs11Decrypter" class="title">Class Pkcs11Decrypter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">org.opensaml.xmlsec.encryption.support.Decrypter</a></li>
<li>
<ul class="inheritance">
<li><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink">org.opensaml.saml.saml2.encryption.Decrypter</a></li>
<li>
<ul class="inheritance">
<li>se.swedenconnect.opensaml.xmlsec.encryption.support.Pkcs11Decrypter</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">Pkcs11Decrypter</span>
extends <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink">Decrypter</a></pre>
<div class="block">An extension to OpenSAML's <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink"><code>Decrypter</code></a> class implementing a workaround for the problem that when using the
 SunPKCS11 crypto provider OAEPPadding does not work. 
 <p>
 See this post on <a href="https://stackoverflow.com/questions/23844694/bad-padding-exception-rsa-ecb-oaepwithsha-256andmgf1padding-in-pkcs11">
 Stack overflow</a>.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Martin Lindstr√∂m (martin@idsec.se), Stefan Santesson (stefan@idsec.se)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.opensaml.xmlsec.DecryptionParameters)">Pkcs11Decrypter</a></span>&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/DecryptionParameters.html?is-external=true" title="class or interface in org.opensaml.xmlsec" class="externalLink">DecryptionParameters</a>&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Constructor.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.encryption.support.EncryptedKeyResolver)">Pkcs11Decrypter</a></span>&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newResolver,
               <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newKEKResolver,
               <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/EncryptedKeyResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">EncryptedKeyResolver</a>&nbsp;newEncKeyResolver)</code></th>
<td class="colLast">
<div class="block">Constructor.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.encryption.support.EncryptedKeyResolver,java.util.Collection,java.util.Collection)">Pkcs11Decrypter</a></span>&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newResolver,
               <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newKEKResolver,
               <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/EncryptedKeyResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">EncryptedKeyResolver</a>&nbsp;newEncKeyResolver,
               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;whitelistAlgos,
               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;blacklistAlgos)</code></th>
<td class="colLast">
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String)">decryptKey</a></span>&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/EncryptedKey.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption" class="externalLink">EncryptedKey</a>&nbsp;encryptedKey,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm)</code></th>
<td class="colLast">
<div class="block">Extends <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink"><code>Decrypter.decryptKey(EncryptedKey, String)</code></a> so that we may get hold of the corresponding RSA
 certificate.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key)">decryptKey</a></span>&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/EncryptedKey.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption" class="externalLink">EncryptedKey</a>&nbsp;encryptedKey,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a>&nbsp;kek)</code></th>
<td class="colLast">
<div class="block">Extends <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink"><code>Decrypter.decryptKey(EncryptedKey, String, Key)</code></a> with an implementation for missing OAEP padding in
 the SunPKCS11 provider.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key,int)">decryptKey</a></span>&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/EncryptedKey.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption" class="externalLink">EncryptedKey</a>&nbsp;encryptedKey,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a>&nbsp;kek,
          int&nbsp;keysize)</code></th>
<td class="colLast">
<div class="block">Decrypts the key (work-around for OAEP padding).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTestMode(boolean)">setTestMode</a></span>&#8203;(boolean&nbsp;testMode)</code></th>
<td class="colLast">
<div class="block">Should we run this class in test mode? By using test mode, the customized code where we handle padding for OAEP is
 executed even if the SunPKCS11 provider is not in use.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.opensaml.saml.saml2.encryption.Decrypter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.opensaml.saml.saml2.encryption.<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink">Decrypter</a></h3>
<code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true#decrypt(org.opensaml.saml.saml2.core.EncryptedAssertion)" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink">decrypt</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true#decrypt(org.opensaml.saml.saml2.core.EncryptedAttribute)" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink">decrypt</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true#decrypt(org.opensaml.saml.saml2.core.EncryptedID)" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink">decrypt</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/saml/saml2/encryption/Decrypter.html?is-external=true#decrypt(org.opensaml.saml.saml2.core.NewEncryptedID)" title="class or interface in org.opensaml.saml.saml2.encryption" class="externalLink">decrypt</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.opensaml.xmlsec.encryption.support.Decrypter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.opensaml.xmlsec.encryption.support.<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">Decrypter</a></h3>
<code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#buildParserPool()" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">buildParserPool</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#checkAndMarshall(org.opensaml.core.xml.XMLObject)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">checkAndMarshall</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptData(org.opensaml.xmlsec.encryption.EncryptedData)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptData</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptData(org.opensaml.xmlsec.encryption.EncryptedData,boolean)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptData</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptDataToDOM(org.opensaml.xmlsec.encryption.EncryptedData)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptDataToDOM</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptDataToDOM(org.opensaml.xmlsec.encryption.EncryptedData,java.security.Key)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptDataToDOM</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptDataToList(org.opensaml.xmlsec.encryption.EncryptedData)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptDataToList</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptDataToList(org.opensaml.xmlsec.encryption.EncryptedData,boolean)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptDataToList</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#getJCAProviderName()" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">getJCAProviderName</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#getKEKResolverCriteria()" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">getKEKResolverCriteria</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#getKeyResolverCriteria()" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">getKeyResolverCriteria</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#isRootInNewDocument()" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">isRootInNewDocument</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#preProcessEncryptedKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">preProcessEncryptedKey</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#setJCAProviderName(java.lang.String)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">setJCAProviderName</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#setKEKResolverCriteria(net.shibboleth.utilities.java.support.resolver.CriteriaSet)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">setKEKResolverCriteria</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#setKeyResolverCriteria(net.shibboleth.utilities.java.support.resolver.CriteriaSet)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">setKeyResolverCriteria</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#setRootInNewDocument(boolean)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">setRootInNewDocument</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#validateAlgorithms(org.opensaml.xmlsec.encryption.EncryptedData)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">validateAlgorithms</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#validateAlgorithms(org.opensaml.xmlsec.encryption.EncryptedKey)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">validateAlgorithms</a>, <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#validateAlgorithmURI(java.lang.String)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">validateAlgorithmURI</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.opensaml.xmlsec.DecryptionParameters)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Pkcs11Decrypter</h4>
<pre>public&nbsp;Pkcs11Decrypter&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/DecryptionParameters.html?is-external=true" title="class or interface in org.opensaml.xmlsec" class="externalLink">DecryptionParameters</a>&nbsp;params)</pre>
<div class="block">Constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - decryption parameters to use</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.encryption.support.EncryptedKeyResolver)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Pkcs11Decrypter</h4>
<pre>public&nbsp;Pkcs11Decrypter&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newResolver,
                       <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newKEKResolver,
                       <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/EncryptedKeyResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">EncryptedKeyResolver</a>&nbsp;newEncKeyResolver)</pre>
<div class="block">Constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newResolver</code> - resolver for data encryption keys.</dd>
<dd><code>newKEKResolver</code> - resolver for key encryption keys.</dd>
<dd><code>newEncKeyResolver</code> - resolver for EncryptedKey elements</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.keyinfo.KeyInfoCredentialResolver,org.opensaml.xmlsec.encryption.support.EncryptedKeyResolver,java.util.Collection,java.util.Collection)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Pkcs11Decrypter</h4>
<pre>public&nbsp;Pkcs11Decrypter&#8203;(<a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newResolver,
                       <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/keyinfo/KeyInfoCredentialResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.keyinfo" class="externalLink">KeyInfoCredentialResolver</a>&nbsp;newKEKResolver,
                       <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/EncryptedKeyResolver.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">EncryptedKeyResolver</a>&nbsp;newEncKeyResolver,
                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;whitelistAlgos,
                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;blacklistAlgos)</pre>
<div class="block">Constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newResolver</code> - resolver for data encryption keys.</dd>
<dd><code>newKEKResolver</code> - resolver for key encryption keys.</dd>
<dd><code>newEncKeyResolver</code> - resolver for EncryptedKey elements</dd>
<dd><code>whitelistAlgos</code> - collection of whitelisted algorithm URIs</dd>
<dd><code>blacklistAlgos</code> - collection of blacklisted algorithm URIs</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptKey</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a>&nbsp;decryptKey&#8203;(@Nonnull
                      <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/EncryptedKey.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption" class="externalLink">EncryptedKey</a>&nbsp;encryptedKey,
                      @Nonnull
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm,
                      @Nonnull
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a>&nbsp;kek)
               throws <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/DecryptionException.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">DecryptionException</a></pre>
<div class="block">Extends <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink"><code>Decrypter.decryptKey(EncryptedKey, String, Key)</code></a> with an implementation for missing OAEP padding in
 the SunPKCS11 provider.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptKey</a></code>&nbsp;in class&nbsp;<code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">Decrypter</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/DecryptionException.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">DecryptionException</a></code></dd>
</dl>
</li>
</ul>
<a id="decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptKey</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a>&nbsp;decryptKey&#8203;(@Nonnull
                      <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/EncryptedKey.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption" class="externalLink">EncryptedKey</a>&nbsp;encryptedKey,
                      @Nonnull
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm)
               throws <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/DecryptionException.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">DecryptionException</a></pre>
<div class="block">Extends <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink"><code>Decrypter.decryptKey(EncryptedKey, String)</code></a> so that we may get hold of the corresponding RSA
 certificate. We need that since we need to figure out the key length of the RSA private key (and we can't ask a
 SunPKCS11 private key for its key length).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true#decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String)" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">decryptKey</a></code>&nbsp;in class&nbsp;<code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/Decrypter.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">Decrypter</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/DecryptionException.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">DecryptionException</a></code></dd>
</dl>
</li>
</ul>
<a id="decryptKey(org.opensaml.xmlsec.encryption.EncryptedKey,java.lang.String,java.security.Key,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptKey</h4>
<pre class="methodSignature">@Nonnull
protected&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a>&nbsp;decryptKey&#8203;(@Nonnull
                         <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/EncryptedKey.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption" class="externalLink">EncryptedKey</a>&nbsp;encryptedKey,
                         @Nonnull
                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm,
                         @Nonnull
                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Key.html?is-external=true" title="class or interface in java.security" class="externalLink">Key</a>&nbsp;kek,
                         int&nbsp;keysize)
                  throws <a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/DecryptionException.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">DecryptionException</a></pre>
<div class="block">Decrypts the key (work-around for OAEP padding).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>encryptedKey</code> - encrypted key element containing the encrypted key to be decrypted</dd>
<dd><code>algorithm</code> - the algorithm associated with the decrypted key</dd>
<dd><code>kek</code> - the key encryption key with which to attempt decryption of the encrypted key</dd>
<dd><code>keysize</code> - the key length</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the decrypted key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://shibboleth.net/sites/release/java-opensaml/4.1.1/apidocs/org/opensaml/xmlsec/encryption/support/DecryptionException.html?is-external=true" title="class or interface in org.opensaml.xmlsec.encryption.support" class="externalLink">DecryptionException</a></code> - for decryption errors</dd>
</dl>
</li>
</ul>
<a id="setTestMode(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setTestMode</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTestMode&#8203;(boolean&nbsp;testMode)</pre>
<div class="block">Should we run this class in test mode? By using test mode, the customized code where we handle padding for OAEP is
 executed even if the SunPKCS11 provider is not in use.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>testMode</code> - test mode flag</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Pkcs11Decrypter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="https://www.swedenconnect.se">Sweden Connect</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
